

<!--
`spar-index`
route for index path '/'

-->
<link rel="import" href="../behaviors/route-behaviors.html"></link>
  <script>
    class SparIndex extends SPARouter {

      static get is() { return 'spar-index' }

      constructor() {
        super();
        this.attachShadow({mode:'open'});
      }
      get path() {
        return '/';
      }
      get src(){
        return this.getAttribute('src');
      }
      connectedCallback() {
        super.connectedCallback();
        var relativePathname = window.location.pathname.substr(window.location.pathname.lastIndexOf('/'));
        if(!this.textContent.trim() && this.children.length === 0 && !this.src) {
          console.warn('Default content warning: Index routes should either contain child nodes or have a "src" attribute with a file path');
        } else {
          if( (relativePathname ==='/' || relativePathname ==='/index.html') && this.path === '/') {
            if ( !this.src ) {
              this.shadowRoot.appendChild ( document.createElement('slot') );
            } 
          }
        }
      }
    };

    customElements.define(SparIndex.is, SparIndex);
  </script>
